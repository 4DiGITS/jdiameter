<?xml version='1.0' encoding='UTF-8'?>
<!-- This document was created with Syntext Serna Free. --><!DOCTYPE section PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "docbookV4.5/docbookx.dtd" [
<!ENTITY % BOOK_ENTITIES SYSTEM "Diameter_User_Guide.ent">
%BOOK_ENTITIES;]>
<section id="dscrat-Diameter_Sh_Client_Resource_Adapter_Type">
  <title>Resource Adapter Type</title>
  <para>The resource adapter  provides the following types:</para>
  <itemizedlist>
    <listitem>
      <para>Activities</para>
    </listitem>
    <listitem>
      <para>Provider</para>
    </listitem>
    <listitem>
      <para>Message Factory</para>
    </listitem>
  </itemizedlist>
  <formalpara>
    <title>Activities</title>
    <para>The following activities are available, with the API definition listed for reference.  In addition to retrieving session-specific data, the API defines methods to easily create and send answers and requests for certain activities.  </para>
  </formalpara>
  <para>The life cycle of an activity depends on the type of received request and the application interaction.  In the case of a subscription activity, the activity  timeout is taken into consideration because the subscription may be time-based.  </para>
  <para>Activities allows the Sh (Client) application to retrieve message and AVP factories bound to the current session.  The functionality offered is limited only  by the implementation used. </para>
  <variablelist>
    <title>Diameter Sh (Client) Activities</title>
    <varlistentry>
      <term>ShClientActivity</term>
      <listitem>
        <para>This is the base activity for the Sh (Client). It is created for event based interaction, such as user data requests or profile update requests. Client activity ends when answer is received, or the request times-out.</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <para>The API for <literal>ShClientActivity</literal>  is more than 60 lines, and therefore can not be  included directly for reference.  To view the API, refer to <ulink url="http://code.google.com/p/mobicents/source/browse/trunk/servers/diameter/resources/sh-client/ratype/src/main/java/net/java/slee/resource/diameter/sh/client/ShClientActivity.java"><literal>ShClientActivity.java</literal> in the source code</ulink>.</para>
  <variablelist>
    <varlistentry>
      <term>ShClientSubscriptionActivity</term>
      <listitem>
        <para>Used in cases where a subscription to  HSS data is required. This activity is persistent, and  is  terminated under  the following conditions:</para>
        <itemizedlist>
          <listitem>
            <para>When terminated explicitly by a Service Building Block (SBB).</para>
          </listitem>
          <listitem>
            <para>When terminated by a returned error originating from the original SNR.</para>
          </listitem>
          <listitem>
            <para>When terminated by a subscription terminating SNR.</para>
          </listitem>
        </itemizedlist>
      </listitem>
    </varlistentry>
  </variablelist>
  <para>The API for <literal>ShClientSubscriptionActivity</literal>  is more than 60 lines, and therefore can not be  included directly for reference.  To view the API, refer to <ulink url="http://code.google.com/p/mobicents/source/browse/trunk/servers/diameter/resources/sh-client/ratype/src/main/java/net/java/slee/resource/diameter/sh/client/ShClientSubscriptionActivity.java"><literal>ShClientSubscriptionActivity.java</literal> in the source code</ulink>.</para>
<!--TODO:  Developer:  I was going to include the API directly in the documentation, but the API is over 300 lines which would break the publish, or look really bad.  If you want to include the API, then you may want to break up the program listing into logical chunks.  
Content: ok, if links are fine.-->  <formalpara>
    <title>Provider</title>
    <para>The Sh (Client) provider allows SBBs to create activities on demand and retrieve AVP and message factories.   In addition, connection information about connected peers is also  available.</para>
  </formalpara>
  <para>The API for the <literal>ShClientProvider</literal> is more than 80 lines, and therefore can not be  included directly for reference.  To view the API, refer to <ulink url="http://code.google.com/p/mobicents/source/browse/trunk/servers/diameter/resources/sh-client/ratype/src/main/java/net/java/slee/resource/diameter/sh/client/ShClientProvider.java"><literal>ShClientSubscriptionActivity.java</literal> in the source code</ulink>.</para>
  <formalpara>
    <title>Message Factory</title>
    <para>The Message Factory creates events  that can be executed within the JAIN SLEE Server, or sent through a Resource Adapter.   Depending on the situation, Message Factory completes some Attribute Value Pairs (AVPs) for the session using the information made available to it.</para>
  </formalpara>
  <para>The API for the <literal>ShClientMessageFactory</literal> is more than 300 lines, and therefore can not be  included directly for reference.  To view the API, refer to <ulink url="http://code.google.com/p/mobicents/source/browse/trunk/servers/diameter/resources/sh-client/ratype/src/main/java/net/java/slee/resource/diameter/sh/client/ShClientSubscriptionActivity.java"><literal>ShClientMessageFactory.java</literal> in the source code</ulink>.</para>
</section>
